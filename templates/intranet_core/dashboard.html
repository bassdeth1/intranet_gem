{% extends "base.html" %}
{% load static %}

{% block title_tag %}Panel Principal{% endblock %}
{% block page_title_header %}Panel Principal{% endblock %}

{% block content %}
<h2 class="text-xl md:text-2xl font-semibold text-main-primary mb-6">
    Bienvenido, 
    <span class="font-bold">
        {% if user.is_authenticated %}
            {{ user.get_full_name|default:user.username }}
        {% else %}
            Nombre Usuario
        {% endif %}
    </span>!
</h2>

<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6">
    <div class="bg-card p-5 rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300">
        <div class="flex items-center">
            <div class="p-3 rounded-full bg-blue-100 text-main-primary mr-4"><i class="fas fa-folder-open fa-2x"></i></div>
            <div>
                <p class="text-3xl font-bold text-default">{{ numero_archivos_totales|default:0 }}</p>
                <p class="text-sm text-muted">Archivos Totales</p>
            </div>
        </div>
    </div>
    <div class="bg-card p-5 rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300">
        <div class="flex items-center">
            <div class="p-3 rounded-full bg-red-100 text-main-secondary mr-4"><i class="fas fa-edit fa-2x"></i></div>
            <div>
                <p class="text-3xl font-bold text-default">{{ numero_formularios_creados|default:0 }}</p>
                <p class="text-sm text-muted">Formularios Creados</p>
            </div>
        </div>
    </div>
    <div class="bg-card p-5 rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300">
        <div class="flex items-center">
            <div class="p-3 rounded-full bg-yellow-100 text-yellow-500 mr-4"><i class="fas fa-bell fa-2x"></i></div>
            <div>
                <p class="text-3xl font-bold text-default">{{ numero_notificaciones_nuevas|default:0 }}</p>
                <p class="text-sm text-muted">Notificaciones Nuevas</p>
            </div>
        </div>
    </div>
    <div class="bg-card p-5 rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300">
        <div class="flex items-center">
            <div class="p-3 rounded-full bg-purple-100 text-purple-500 mr-4"><i class="fas fa-sitemap fa-2x"></i></div>
            <div>
                <p class="text-3xl font-bold text-default">{{ numero_responsabilidades|default:0 }}</p>
                <p class="text-sm text-muted">Responsabilidades</p>
            </div>
        </div>
    </div>
</div>

<div class="mt-8 bg-card rounded-xl shadow-lg overflow-hidden">
    <div class="px-6 py-4 border-b border-gray-200 dark:border-gray-700"><h3 class="text-lg font-semibold text-main-primary">Actividad Reciente del Sistema (Placeholder)</h3></div>
    <div class="overflow-x-auto max-h-96">
        <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
            <thead class="bg-gray-50 dark:bg-gray-700 sticky top-0 z-10">
                <tr>
                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-muted uppercase tracking-wider">Tipo</th>
                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-muted uppercase tracking-wider">Descripción</th>
                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-muted uppercase tracking-wider hidden sm:table-cell">Usuario</th>
                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-muted uppercase tracking-wider">Fecha</th>
                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-muted uppercase tracking-wider">Acción</th>
                </tr>
            </thead>
            <tbody class="divide-y divide-gray-200 dark:divide-gray-700">
                <tr>
                    <td class="px-6 py-4 whitespace-nowrap text-sm"><span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200">Carga Archivo</span></td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-default">Informe_Mensual.pdf</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-muted hidden sm:table-cell">j.perez</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-muted">15/05/2025 10:30</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium"><a href="#" class="text-main-primary hover:underline">Ver</a></td>
                </tr>
                <tr>
                    <td class="px-6 py-4 whitespace-nowrap text-sm"><span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200">Formulario</span></td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-default">Encuesta de Satisfacción creada</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-muted hidden sm:table-cell">m.diaz</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-muted">15/05/2025 09:45</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium"><a href="#" class="text-main-primary hover:underline">Editar</a></td>
                </tr>
            </tbody>
        </table>
    </div>
    <div class="px-6 py-3 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700 text-right">
        <button class="text-sm text-main-primary hover:underline font-medium">Ver todo &rarr;</button>
    </div>
</div>
{% endblock %}